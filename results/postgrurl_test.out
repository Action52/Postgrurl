CREATE EXTENSION postgrurl;
CREATE TABLE testurl(id int, purl postgrurl);
INSERT INTO testurl(id, purl) VALUES(1, 'http://test.com');
INSERT INTO testurl(id, purl) VALUES(2, 'facebook.com');
INSERT INTO testurl(id, purl) VALUES(3, 'https://facebook.com');
INSERT INTO testurl(id, purl) VALUES(4, 'https://facebook.com/about/');
INSERT INTO testurl(id, purl) VALUES(5, 'https://facebook.com?q=querytest&attr=1');
SELECT * FROM testurl;
 id |                                                              purl                                                               
----+---------------------------------------------------------------------------------------------------------------------------------
  1 | raw: http://test.com, scheme: http, host: (null), file: (null), query: (null), port: 0, defaultPort: 0
  2 | raw: facebook.com, scheme: (null), host: (null), file: (null), query: (null), port: 0, defaultPort: 0
  3 | raw: https://facebook.com, scheme: https, host: (null), file: (null), query: (null), port: 0, defaultPort: 0
  4 | raw: https://facebook.com/about/, scheme: https, host: (null), file: (null), query: (null), port: 0, defaultPort: 0
  5 | raw: https://facebook.com?q=querytest&attr=1, scheme: https, host: (null), file: (null), query: (null), port: 0, defaultPort: 0
(5 rows)

SELECT postgrurl_eq('12345'::postgrurl, '123456'::postgrurl);
 postgrurl_eq 
--------------
 f
(1 row)

SELECT postgrurl_eq('facebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_eq 
--------------
 t
(1 row)

SELECT postgrurl_gt('facebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_gt 
--------------
 f
(1 row)

SELECT postgrurl_gt('facebook.com'::postgrurl, 'eacebook.com'::postgrurl);
 postgrurl_gt 
--------------
 t
(1 row)

SELECT postgrurl_gte('facebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_gte 
---------------
 t
(1 row)

SELECT postgrurl_gte('facebook.com'::postgrurl, 'eacebook.com'::postgrurl);
 postgrurl_gte 
---------------
 t
(1 row)

SELECT postgrurl_gte('eacebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_gte 
---------------
 f
(1 row)

SELECT postgrurl_lt('facebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_lt 
--------------
 f
(1 row)

SELECT postgrurl_lt('facebook.com'::postgrurl, 'eacebook.com'::postgrurl);
 postgrurl_lt 
--------------
 f
(1 row)

SELECT postgrurl_lte('facebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_lte 
---------------
 t
(1 row)

SELECT postgrurl_lte('facebook.com'::postgrurl, 'eacebook.com'::postgrurl);
 postgrurl_lte 
---------------
 f
(1 row)

SELECT postgrurl_lte('eacebook.com'::postgrurl, 'facebook.com'::postgrurl);
 postgrurl_lte 
---------------
 t
(1 row)

DROP TABLE testurl;
